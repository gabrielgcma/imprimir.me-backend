CREATE TABLE USUARIO (
	ID_USUARIO	SERIAL 		PRIMARY KEY,
	USERNAME 	VARCHAR(255) 	NOT NULL,
	EMAIL 		VARCHAR(255) 	NOT NULL,
	PASSWORD 	VARCHAR(60) 	NOT NULL,
	CPF 		VARCHAR(14) 	UNIQUE,
	IS_COMPANY	BOOLEAN		NOT NULL,
	DATA_NASCIMENTO DATE
);

CREATE TABLE EMPRESA (
	ID_EMPRESA 	SERIAL 		PRIMARY KEY,
	USERNAME 	VARCHAR(255) 	NOT NULL,
	EMAIL 		VARCHAR(255) 	NOT NULL,
	PASSWORD 	VARCHAR(60) 	NOT NULL,
	CNPJ 		VARCHAR(255)    UNIQUE,
	IS_COMPANY	BOOLEAN 	NOT NULL,
	RAZAO_SOCIAL	VARCHAR(255),
	NOME_FANTASIA 	VARCHAR(255) 	NOT NULL,
	CHAVE_PIX 	VARCHAR(255) 	NOT NULL,
	PAIS 		VARCHAR(60),
	ESTADO 		VARCHAR(60),
	CIDADE 		VARCHAR(60),
	BAIRRO 		VARCHAR(60),
	RUA 		VARCHAR(255),
	NUMERO 		INT,
	COMPLEMENTO 	VARCHAR(255),
	CEP 		VARCHAR(10),
	LATITUDE	VARCHAR(15),
	LONGITUDE	VARCHAR(15),
	COLOR_PRINT 	BOOLEAN		NOT NULL,
	COLOR_VALUE	NUMERIC(10, 2),
	BLACK_PRINT	BOOLEAN 	NOT NULL,
	BLACK_VALUE	NUMERIC(10, 2)
);

CREATE TABLE PEDIDO (
	ID_PEDIDO 		SERIAL 		PRIMARY KEY,
	ID_USUARIO 		INT REFERENCES USUARIO(ID_USUARIO),
    ID_EMPRESA 		INT REFERENCES EMPRESA(ID_EMPRESA),
	VALOR_PEDIDO		NUMERIC(10, 2) 	NOT NULL,
	VALOR_REPASSADO 	NUMERIC(10, 2)	NOT NULL,
	NUMERO_COPIAS		INT 		NOT NULL,
	ARQUIVOS		BYTEA,
	TAMANHO_PAPEL		VARCHAR(30) 	NOT NULL,
	PAGINAS_POR_FOLHA	BOOLEAN 	NOT NULL,
	MARGENS			VARCHAR(30)	NOT NULL,
	P√ÅGINAS			VARCHAR(30)	NOT NULL,
	DISPOSICAO		VARCHAR(30)	NOT NULL,
	IS_COLOR		BOOLEAN
);

CREATE TABLE NOTA_FISCAL (
	ID_NOTA		SERIAL		PRIMARY KEY,
	ID_USUARIO 	INT REFERENCES USUARIO(ID_USUARIO),
    ID_EMPRESA 	INT REFERENCES EMPRESA(ID_EMPRESA),
	ID_PEDIDO	INT REFERENCES PEDIDO(ID_PEDIDO)
);

CREATE TABLE FLUXO_CAIXA (
	ID_OPERACAO	SERIAL		PRIMARY KEY,
	ID_PEDIDO	INT REFERENCES PEDIDO(ID_PEDIDO),
	VALOR_OPERACAO	NUMERIC(10,2) 	NOT NULL
);
